<div class="d-flex flex-column flex-shrink-0 p-3 text-white bg-dark show" id="sidebar" style="width: 250px; height: 100vh; position: fixed; top: 48px; left: 0; overflow-y: auto; z-index: 1040; transition: transform 0.3s ease-in-out;">
    <div class="d-flex justify-content-between align-items-center mb-3 px-2">
        <a href="/" class="d-flex align-items-center text-white text-decoration-none">
            <img src="/images/github-mark-white.png" alt="GitHub Logo" width="32" height="32" class="me-2">
            <span class="fs-5 fw-semibold">EcoAnalyzer</span>
        </a>
        <button type="button" class="btn btn-link text-white p-1" id="sidebarClose" aria-label="Close sidebar" style="font-size: 20px; border-radius: 6px; border: 1px solid transparent;">
            <svg aria-hidden="true" height="20" viewBox="0 0 16 16" version="1.1" width="20" data-view-component="true" class="octicon octicon-x">
                <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 11-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
            </svg>
        </button>
    </div>
    <ul class="nav nav-pills flex-column mb-auto px-2">
        <li class="nav-item">
            <a href="/" class="nav-link text-white d-flex align-items-center px-3 py-2 rounded">
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-home me-2">
                    <path fill-rule="evenodd" d="M8 3.293l6 6V13a1 1 0 01-1 1h-3v-3H6v3H3a1 1 0 01-1-1v-3.707l6-6z"></path>
                </svg>
                Home
            </a>
        </li>
        <li class="nav-item">
            <a href="/form" class="nav-link text-white d-flex align-items-center px-3 py-2 rounded">
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search me-2">
                    <path fill-rule="evenodd" d="M11.742 10.344a6.5 6.5 0 111.397-1.398l3.85 3.85a1 1 0 01-1.414 1.414l-3.85-3.85zM12 6.5a5.5 5.5 0 11-11 0 5.5 5.5 0 0111 0z"></path>
                </svg>
                Analyze Product
            </a>
        </li>
        <li class="nav-item">
            <a href="/form/all-products" class="nav-link text-white d-flex align-items-center px-3 py-2 rounded">
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-list-unordered me-2">
                    <path fill-rule="evenodd" d="M2 3.5a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5zm0 4a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5zm0 4a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5z"></path>
                </svg>
                All Products
            </a>
        </li>
        <% if(currentUser){ %>
        <li class="nav-item">
            <a href="/dashboard/impact" class="nav-link text-white d-flex align-items-center px-3 py-2 rounded">
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-graph me-2">
                    <path fill-rule="evenodd" d="M0 0h1v15H0V0zm2 10h1v5H2v-5zm2-4h1v9H4V6zm2-2h1v11H6V4zm2-2h1v13H8V2zm2-2h1v15h-1V0z"></path>
                </svg>
                Impact Dashboard
            </a>
        </li>
        <li class="nav-item">
            <a href="/compare" class="nav-link text-white d-flex align-items-center px-3 py-2 rounded">
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-balance-scale me-2">
                    <path fill-rule="evenodd" d="M8 1a1 1 0 00-1 1v1H4a1 1 0 00-1 1v1h10V4a1 1 0 00-1-1H9V2a1 1 0 00-1-1zM3 7v1h10V7H3zm1 2v5h1v-5H4zm6 0v5h1v-5h-1z"></path>
                </svg>
                Compare Products
            </a>
        </li>
        <li class="nav-item">
            <a href="/get-reciept" class="nav-link text-white d-flex align-items-center px-3 py-2 rounded">
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-camera me-2">
                    <path fill-rule="evenodd" d="M4 2a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H4zm0 1h8a1 1 0 011 1v8a1 1 0 01-1 1H4a1 1 0 01-1-1V4a1 1 0 011-1z"></path>
                </svg>
                Capture Receipt
            </a>
        </li>
        <li class="nav-item">
            <a href="/voiceInput" class="nav-link text-white d-flex align-items-center px-3 py-2 rounded">
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-mic me-2">
                    <path fill-rule="evenodd" d="M8 1a3 3 0 00-3 3v4a3 3 0 006 0V4a3 3 0 00-3-3zM5 7V4a3 3 0 016 0v3a3 3 0 01-6 0zM3 8a.75.75 0 01.75-.75h.5a.75.75 0 010 1.5h-.5A.75.75 0 013 8zm7 0a.75.75 0 01.75-.75h.5a.75.75 0 010 1.5h-.5A.75.75 0 0110 8z"></path>
                </svg>
                Voice Input
            </a>
        </li>
        <li class="nav-item">
            <a href="/profile" class="nav-link text-white d-flex align-items-center px-3 py-2 rounded">
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-person me-2">
                    <path fill-rule="evenodd" d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zM8 8a3 3 0 100-6 3 3 0 000 6z"></path>
                </svg>
                Profile
            </a>
        </li>
        <% } %>
    </ul>
    <hr class="my-3 mx-2" style="border-color: #30363d;">
    <div class="user-section px-2">
        <% if(currentUser){ %>
        <div class="d-flex align-items-center mb-2">
            <svg aria-hidden="true" height="20" viewBox="0 0 16 16" version="1.1" width="20" data-view-component="true" class="octicon octicon-person-fill me-2">
                <path fill-rule="evenodd" d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zM8 8a3 3 0 100-6 3 3 0 000 6z"></path>
            </svg>
            <span><%= currentUser.username %></span>
        </div>
        <a href="/logout" class="btn btn-outline-light btn-sm w-100 d-flex align-items-center justify-content-center">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-sign-out me-1">
                <path fill-rule="evenodd" d="M6 12v-2H3.5a.5.5 0 010-1H6V7l4 3-4 3zM13 3H7v2h6v6h-6v2h6a1 1 0 001-1V4a1 1 0 00-1-1z"></path>
            </svg>
            Logout
        </a>
        <% }else{ %>
        <a href="/login" class="btn btn-outline-light btn-sm w-100 mb-2 d-flex align-items-center justify-content-center">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-sign-in me-1">
                <path fill-rule="evenodd" d="M6 12v-2H3.5a.5.5 0 010-1H6V7l4 3-4 3zM13 3H7v2h6v6h-6v2h6a1 1 0 001-1V4a1 1 0 00-1-1z"></path>
            </svg>
            Login
        </a>
        <a href="/register" class="btn btn-light btn-sm w-100 d-flex align-items-center justify-content-center">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-person-add me-1">
                <path fill-rule="evenodd" d="M8 7a3 3 0 100-6 3 3 0 000 6zM1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM13 7h-2v2h-1V7H8V6h2V4h1v2h2v1z"></path>
            </svg>
            Register
        </a>
        <% } %>
    </div>
</div>
